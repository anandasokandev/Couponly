
<div class="payment-wrapper">
  <div class="payment-card">
    <h2>Complete Your Payment</h2>
    <form [formGroup]="paymentForm">
      <div class="form-group">
        <label>Cardholder Name</label>
        <input formControlName="cardholderName" placeholder="e.g., Rahul Sharma" />
      </div>
      <div class="form-group">
        <label>Card Number</label>
        <input formControlName="cardNumber" maxlength="16" placeholder="XXXX XXXX XXXX XXXX" />
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Expiry</label>
          <input formControlName="expiry" placeholder="MM/YY" />
        </div>
        <div class="form-group">
          <label>CVV</label>
          <input formControlName="cvv" maxlength="3" placeholder="CVV" />
        </div>
      </div>
      <button type="button" class="pay-btn" (click)="startPayment()">Pay ₹500</button>
    </form>
  </div>
</div>

<div class="loader-overlay" *ngIf="loading">
  <div class="spinner"></div>
  <div class="actions">
    <button (click)="handleResult(true)">Success</button>
    <button (click)="handleResult(false)">Fail</button>
  </div>
</div>

<div class="result-popup" *ngIf="showResult">
  <div class="popup" [ngClass]="{ success: isSuccess, fail: !isSuccess }">
    <div class="icon" [ngClass]="{ success: isSuccess, fail: !isSuccess }">
      <span>{{ isSuccess ? '✓' : '✕' }}</span>
    </div>
    <h3>{{ isSuccess ? 'Payment Successful!' : 'Payment Failed' }}</h3>
    <p>
      {{ isSuccess ? 'Your transaction has been completed.' : 'Transaction could not be processed. Please try again.' }}
    </p>
    <button [ngClass]="{ fail: !isSuccess }" (click)="navigate()">Continue</button>
  </div>
</div>
